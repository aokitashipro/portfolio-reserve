# ä¸¦è¡Œä½œæ¥­èª¿æ•´ã‚¬ã‚¤ãƒ‰

## ğŸš¨ ç¾åœ¨ã®çŠ¶æ³ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰

### Worktree Status Dashboard

å®šæœŸçš„ã«çŠ¶æ³ç¢ºèªï¼š
```bash
bash /Users/a-aoki/indivisual/2026/portpfolio/reserve-system/worktree/WORKTREE_STATUS_CHECKER.sh
```

---

## ğŸ“Š ç¾åœ¨ã®å„WorktreeçŠ¶æ³

### âœ… Worktree 1: CICD
- **çŠ¶æ…‹**: ã‚¯ãƒªãƒ¼ãƒ³ï¼ˆmainã¨ã®å·®åˆ†0ï¼‰
- **PR**: #33ã‚ªãƒ¼ãƒ—ãƒ³ä¸­
- **ç«¶åˆãƒªã‚¹ã‚¯**: ãªã—
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: PRãƒãƒ¼ã‚¸å¾…ã¡

### âœ… Worktree 2: Auth
- **çŠ¶æ…‹**: 9ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ä¸­
- **PR**: #35ã‚ªãƒ¼ãƒ—ãƒ³ä¸­
- **ç«¶åˆãƒªã‚¹ã‚¯**: ãªã—ï¼ˆå…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«æœªå¤‰æ›´ï¼‰
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: PRç¶™ç¶šã€ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡

### âš ï¸ Worktree 3: Booking
- **çŠ¶æ…‹**: 9ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ä¸­
- **PR**: æœªä½œæˆ
- **ç«¶åˆãƒªã‚¹ã‚¯**: **é«˜** âš ï¸
  - `package.json` å¤‰æ›´
  - `.env.example` å¤‰æ›´
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: **ç·Šæ€¥å¯¾å¿œå¿…è¦**ï¼ˆä¸‹è¨˜å‚ç…§ï¼‰

### âœ… Worktree 4: Admin
- **çŠ¶æ…‹**: 3ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ä¸­
- **PR**: æœªä½œæˆ
- **ç«¶åˆãƒªã‚¹ã‚¯**: ãªã—
- **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: é–‹ç™ºç¶™ç¶šã€å®Œäº†å¾ŒPRä½œæˆ

---

## ğŸš¨ ç·Šæ€¥å¯¾å¿œ: Booking Worktreeã®ç«¶åˆãƒªã‚¹ã‚¯

### å•é¡Œ

Booking worktreeãŒå…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`package.json`, `.env.example`ï¼‰ã‚’å¤‰æ›´ã—ã¦ã„ã‚‹ã€‚
ã“ã‚Œã¯ä»–ã®worktreeã¨ç«¶åˆã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚

### è§£æ±ºç­–ï¼ˆ3ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: å¤‰æ›´ã‚’CICD Worktreeã«ç§»å‹•ï¼ˆæ¨å¥¨ï¼‰

```bash
# 1. Booking worktreeã§å¤‰æ›´å†…å®¹ã‚’ç¢ºèª
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-booking/reserve-app
git diff package.json
git diff .env.example

# 2. å¤‰æ›´å†…å®¹ã‚’ãƒ¡ãƒ¢

# 3. Booking worktreeã§å¤‰æ›´ã‚’ä¸€æ™‚é€€é¿
git stash push -m "package.json and .env.example changes"

# 4. CICD worktreeã§é©ç”¨
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-cicd/reserve-app
# æ‰‹å‹•ã§å¤‰æ›´ã‚’é©ç”¨

# 5. CICDã§ã‚³ãƒŸãƒƒãƒˆ
git add package.json .env.example
git commit -m "feat: Bookingæ©Ÿèƒ½ã®ãŸã‚ã®ä¾å­˜é–¢ä¿‚è¿½åŠ "
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: Bookingã§ä¸€æ—¦revertã—ã¦ã€CICDãƒãƒ¼ã‚¸å¾Œã«å†é©ç”¨

```bash
# 1. Booking worktreeã§å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’revert
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-booking/reserve-app
git checkout main -- package.json .env.example

# 2. CICD PRãŒãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã¾ã§å¾…ã¤

# 3. ãƒãƒ¼ã‚¸å¾Œã€mainã‹ã‚‰rebase
git rebase main

# 4. å¿…è¦ãªä¾å­˜ã‚’å†åº¦è¿½åŠ 
npm install resend  # ä¾‹
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³3: ä»Šã™ãCICD PRã‚’ãƒãƒ¼ã‚¸ã€ãã®å¾ŒBookingã§rebase

```bash
# 1. CICD PR #33ã‚’ãƒãƒ¼ã‚¸

# 2. mainã‚’æœ€æ–°åŒ–
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system
git checkout main
git pull origin main

# 3. Booking worktreeã§rebase
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-booking
git rebase main

# 4. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ãŸã‚‰æ‰‹å‹•è§£æ±º
# 5. è§£æ±ºå¾Œã€git rebase --continue
```

---

## ğŸ¯ åŠ¹ç‡çš„ãªé€²ã‚æ–¹ï¼ˆæ¨å¥¨ãƒ•ãƒ­ãƒ¼ï¼‰

### ãƒ•ã‚§ãƒ¼ã‚º1: æœ€åˆã®å½¹å‰²æŒ¯ã‚Šåˆ†ã‘ï¼ˆå®Œäº†æ¸ˆã¿ï¼‰

âœ… ã™ã§ã«å®Ÿæ–½æ¸ˆã¿ï¼š

1. **CICD** â†’ CI/CDåŸºç›¤ã€ä¾å­˜é–¢ä¿‚ç®¡ç†
2. **Auth** â†’ èªè¨¼æ©Ÿèƒ½
3. **Booking** â†’ äºˆç´„æ©Ÿèƒ½
4. **Admin** â†’ ç®¡ç†æ©Ÿèƒ½

### ãƒ•ã‚§ãƒ¼ã‚º2: æ—¥æ¬¡èª¿æ•´ï¼ˆæ¯æ—¥å®Ÿè¡Œï¼‰

#### æ¯æœã®ãƒ«ãƒ¼ãƒãƒ³

```bash
# 1. çŠ¶æ³ç¢ºèª
bash /Users/a-aoki/indivisual/2026/portpfolio/reserve-system/worktree/WORKTREE_STATUS_CHECKER.sh

# 2. mainã‚’æœ€æ–°åŒ–
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system
git checkout main
git pull origin main

# 3. å„worktreeã§rebaseï¼ˆç«¶åˆãƒªã‚¹ã‚¯ä½æ¸›ï¼‰
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-cicd
git rebase main

cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-auth
git rebase main

cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-booking
git rebase main

cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-admin
git rebase main
```

#### ä½œæ¥­é–‹å§‹å‰ã®ãƒã‚§ãƒƒã‚¯

```bash
# å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹å‰ã«ç¢ºèª
git diff --name-only main | grep -E '(package\.json|tsconfig\.json|eslint\.config\.mjs|prisma/schema\.prisma|\.env\.example)'

# ã‚‚ã—è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ â†’ CICD worktreeã§ä½œæ¥­
```

### ãƒ•ã‚§ãƒ¼ã‚º3: PRä½œæˆãƒ»ãƒãƒ¼ã‚¸é †åº

```
1ï¸âƒ£ CICD (#33) â†’ main
   â†“ å…¨å“¡rebase
2ï¸âƒ£ Auth (#35) â†’ main
   â†“ Booking/Admin rebase
3ï¸âƒ£ Booking â†’ main (PRæœªä½œæˆ)
   â†“ Admin rebase
4ï¸âƒ£ Admin â†’ main (PRæœªä½œæˆ)
```

**ç†ç”±:**
- CICDå…ˆè¡Œ â†’ ä¾å­˜é–¢ä¿‚ãƒ»CIè¨­å®šãŒç¢ºå®šã€ä»¥é™ã®PRã§è‡ªå‹•ãƒ†ã‚¹ãƒˆå‹•ä½œ
- Authå…ˆè¡Œ â†’ Booking/Adminã§èªè¨¼æ©Ÿèƒ½ãŒä½¿ãˆã‚‹

---

## ğŸ“‹ ç«¶åˆå›é¿ã®ãƒ«ãƒ¼ãƒ«ï¼ˆå³å®ˆï¼‰

### âŒ çµ¶å¯¾ã«ã‚„ã‚‰ãªã„ã“ã¨

1. **è¤‡æ•°worktreeã§åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†** â†’ å¿…ãšç«¶åˆ
2. **rebaseã›ãšã«é•·æœŸé–“ä½œæ¥­** â†’ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆå¢—å¤§
3. **å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’CICDä»¥å¤–ã§å¤‰æ›´** â†’ èª¿æ•´å›°é›£

### âœ… å¿…ãšã‚„ã‚‹ã“ã¨

1. **æ¯æœrebase** â†’ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆæœ€å°åŒ–
2. **çŠ¶æ³ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ** â†’ ç«¶åˆãƒªã‚¹ã‚¯ã‚’æ—©æœŸç™ºè¦‹
3. **å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã¯CICDã§** â†’ ä¸€å…ƒç®¡ç†

---

## ğŸ”„ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆç™ºç”Ÿæ™‚ã®å¯¾å‡¦

### ã‚¹ãƒ†ãƒƒãƒ—1: å†·é™ã«çŠ¶æ³ç¢ºèª

```bash
git status
git diff --name-only main
```

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª

```bash
# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒãƒ¼ã‚«ãƒ¼ã‚’æ¤œç´¢
git diff --check
```

### ã‚¹ãƒ†ãƒƒãƒ—3: æ‰‹å‹•è§£æ±º

```
<<<<<<< HEAD
è‡ªåˆ†ã®å¤‰æ›´
=======
mainã®å¤‰æ›´
>>>>>>> main
```

â†’ ã©ã¡ã‚‰ã‚’æ¡ç”¨ã™ã‚‹ã‹æ±ºã‚ã¦ã€ãƒãƒ¼ã‚«ãƒ¼ã‚’å‰Šé™¤

### ã‚¹ãƒ†ãƒƒãƒ—4: è§£æ±ºå¾Œã®å‡¦ç†

```bash
git add .
git rebase --continue
```

### ã‚¹ãƒ†ãƒƒãƒ—5: è§£æ±ºã§ããªã„å ´åˆ

```bash
# rebaseã‚’ä¸­æ­¢
git rebase --abort

# ãƒãƒ¼ãƒ ã¨èª¿æ•´
# ã¾ãŸã¯ã€è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’CICDã«ç§»å‹•
```

---

## ğŸš€ æœ€é©ãªé€²ã‚æ–¹ï¼ˆææ¡ˆï¼‰

### A. å„Worktreeã«å°‚ç”¨ã‚¿ã‚¹ã‚¯ã‚’å‰²ã‚Šå½“ã¦ï¼ˆç¾åœ¨ã®æ–¹å¼ï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ:**
- æ˜ç¢ºãªå½¹å‰²åˆ†æ‹…
- ç‹¬ç«‹ã—ã¦ä½œæ¥­å¯èƒ½
- ä¸¦è¡Œé–‹ç™ºã§é«˜é€Ÿ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã®èª¿æ•´ãŒå¿…è¦
- rebaseå¿˜ã‚Œã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆ

**æ¨å¥¨åº¦:** â­â­â­â­â­ï¼ˆç¾åœ¨ã“ã‚Œã§é€²è¡Œä¸­ã€ç¶™ç¶šæ¨å¥¨ï¼‰

### B. é †æ¬¡ãƒãƒ¼ã‚¸æ–¹å¼

**ãƒ¡ãƒªãƒƒãƒˆ:**
- ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚¼ãƒ­
- ã‚·ãƒ³ãƒ—ãƒ«

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- ä¸¦è¡Œé–‹ç™ºã§ããªã„
- æ™‚é–“ãŒã‹ã‹ã‚‹

**æ¨å¥¨åº¦:** â­â­ï¼ˆä»Šå›ã¯ä¸æ¡ç”¨ï¼‰

### C. æ©Ÿèƒ½ã”ã¨ã«çŸ­æœŸé–“ã§å®Œæˆâ†’å³ãƒãƒ¼ã‚¸

**ãƒ¡ãƒªãƒƒãƒˆ:**
- ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒªã‚¹ã‚¯ä½
- æ—©æœŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- é »ç¹ãªrebaseå¿…è¦

**æ¨å¥¨åº¦:** â­â­â­â­ï¼ˆä»Šå¾Œã®æ”¹å–„æ¡ˆï¼‰

---

## ğŸ“Š é€²æ—ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèªã‚³ãƒãƒ³ãƒ‰

```bash
# çŠ¶æ³ç¢ºèª
bash /Users/a-aoki/indivisual/2026/portpfolio/reserve-system/worktree/WORKTREE_STATUS_CHECKER.sh

# PRä¸€è¦§
gh pr list

# Issueä¸€è¦§
gh issue list --state open
```

### é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆæ¨å¥¨ï¼‰

æ¯é€±é‡‘æ›œã«ä»¥ä¸‹ã‚’ç¢ºèªï¼š

1. å„worktreeã®é€²æ—
2. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒªã‚¹ã‚¯
3. æ¬¡é€±ã®å„ªå…ˆé †ä½
4. ãƒãƒ¼ã‚¸é †åºã®èª¿æ•´

---

## ğŸ¯ ä»Šã™ãã‚„ã‚‹ã¹ãã“ã¨

### 1. Booking Worktreeã®å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«å•é¡Œã‚’è§£æ±º

ä¸Šè¨˜ã€Œã‚ªãƒ—ã‚·ãƒ§ãƒ³1ã€ã‚’å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

### 2. å…¨worktreeã§rebaseå®Ÿè¡Œ

```bash
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system
git checkout main && git pull origin main

cd ../reserve-system-cicd && git rebase main
cd ../reserve-system-auth && git rebase main
cd ../reserve-system-booking && git rebase main
cd ../reserve-system-admin && git rebase main
```

### 3. CICD PRã®ãƒãƒ¼ã‚¸ã‚’å„ªå…ˆ

PR #33ã‚’å…ˆã«ãƒãƒ¼ã‚¸ â†’ ä»–ã®worktreeãŒCI/CDæ©æµã‚’å—ã‘ã‚‹

### 4. æ¯æœã®ãƒ«ãƒ¼ãƒãƒ³ã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç™»éŒ²

ã€Œ9:00 AM - Worktree rebase & status checkã€

---

## ğŸ’¡ æˆåŠŸã®ç§˜è¨£

1. **æ¯æœrebase** - ç¿’æ…£åŒ–ã™ã‚‹
2. **å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã¯CICDã®ã¿** - ãƒ«ãƒ¼ãƒ«å¾¹åº•
3. **çŠ¶æ³ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ** - æ¯æ—¥å®Ÿè¡Œ
4. **å°ã•ãé »ç¹ã«PR** - å¤§ããªã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’é˜²ã
5. **ãƒãƒ¼ãƒ ï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ï¼‰èª¿æ•´** - å¿…è¦ã«å¿œã˜ã¦æƒ…å ±å…±æœ‰

---

**æœ€çµ‚æ›´æ–°**: 2025-12-31
