# Reserve System - äºˆç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

Next.js + Supabase + Prisma ã§æ§‹ç¯‰ã—ãŸãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªå‘ã‘äºˆç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆç¾å®¹å®¤ãƒ»æ­¯ç§‘åŒ»é™¢ãƒ»æ•´ä½“é™¢ãªã©å¤šæ¥­ç¨®å¯¾å¿œï¼‰

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ğŸ¤– AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘

**CLAUDE.mdã‚’æœ€åˆã«èª­ã‚“ã§ãã ã•ã„**

```bash
cat CLAUDE.md
```

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€4ã¤ã®worktreeã§ã®ä¸¦è¡Œä½œæ¥­ã«å¿…è¦ãªã™ã¹ã¦ã®æƒ…å ±ãŒé›†ç´„ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

### ğŸ‘¨â€ğŸ’» é–‹ç™ºè€…å‘ã‘

è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã¯ `reserve-app/README.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

```bash
cd reserve-app
npm install
npm run prisma:generate
npm run dev
```

---

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
reserve-system/
â”œâ”€â”€ CLAUDE.md                    # AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘ãƒã‚¹ã‚¿ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ â­
â”œâ”€â”€ documents/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé›†
â”‚   â”œâ”€â”€ ä¸¦è¡Œä½œæ¥­ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³.md
â”‚   â”œâ”€â”€ ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ.md
â”‚   â”œâ”€â”€ Gité‹ç”¨ãƒ«ãƒ¼ãƒ«.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ worktree/                    # Worktreeé‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ QUICK_REFERENCE.md       # ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
â”‚   â””â”€â”€ SNIPPETS.md              # ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆé›†
â”œâ”€â”€ reserve-app/                 # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ ...
â””â”€â”€ .cursor/                     # AIè¨­å®š
    â””â”€â”€ rules/
        â””â”€â”€ æ—¥æœ¬èªé‹ç”¨ãƒ«ãƒ¼ãƒ«.md
```

---

## ğŸ”„ Worktreeé‹ç”¨ï¼ˆä¸¦è¡Œé–‹ç™ºï¼‰

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **4ã¤ã®worktree** ã§ä¸¦è¡Œé–‹ç™ºã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚

### Worktreeãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

```
/Users/a-aoki/indivisual/2026/portpfolio/
â”œâ”€â”€ reserve-system/              # ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒª
â”œâ”€â”€ reserve-system-cicd/         # Worktree 1: CI/CD
â”œâ”€â”€ reserve-system-auth/         # Worktree 2: èªè¨¼
â”œâ”€â”€ reserve-system-booking/      # Worktree 3: äºˆç´„æ©Ÿèƒ½
â””â”€â”€ reserve-system-admin/        # Worktree 4: ç®¡ç†æ©Ÿèƒ½
```

### æ‹…å½“ç¯„å›²

| Worktree | ãƒ–ãƒ©ãƒ³ãƒ | Issue | æ‹…å½“ç¯„å›² |
|----------|---------|-------|---------|
| **cicd** | `feature/ci-cd-infrastructure` | #3, #4 | GitHub Actions, ç’°å¢ƒå¤‰æ•°ç®¡ç† |
| **auth** | `feature/user-authentication` | #5, #6 | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ |
| **booking** | `feature/booking-system` | #8-11 | äºˆç´„ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»ç™»éŒ² |
| **admin** | `feature/admin-dashboard` | #7, #15, #16 | ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ |

è©³ç´°ã¯ **`CLAUDE.md`** ã‚’å‚ç…§ã€‚

---

## ğŸ¯ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 16 (App Router) + React 19
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS v4
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabase (PostgreSQL)
- **ORM**: Prisma 7
- **ãƒ†ã‚¹ãƒˆ**: Jest + React Testing Library + Playwright
- **è¨€èª**: TypeScript (Strict mode)

---

## ğŸ“‹ é–‹ç™ºæ–¹é‡

- **ATDD/BDDé§†å‹•é–‹ç™º**: ãƒ†ã‚¹ãƒˆã‹ã‚‰æ›¸ã
- **æ—¥æœ¬èªã§ã‚³ãƒŸãƒƒãƒˆãƒ»PR**: ã™ã¹ã¦æ—¥æœ¬èªã§è¨˜è¿°
- **å“è³ªé‡è¦–**: ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã€Lighthouse 90ä»¥ä¸Š

---

## âœ… å“è³ªåŸºæº–

### PRä½œæˆå‰ã«å¿…é ˆ

```bash
cd reserve-app
npm run lint           # âœ… ã‚¨ãƒ©ãƒ¼0ä»¶
npm run build:ci       # âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ
npm test               # âœ… ãƒ†ã‚¹ãƒˆé€šé
npm run test:e2e       # âœ… E2Eé€šé
```

---

## ğŸŒ è¨€èªãƒ«ãƒ¼ãƒ«

### æ—¥æœ¬èªã§è¨˜è¿°

- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- PRã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜
- Issueã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜
- ã‚³ãƒ¼ãƒ‰ã‚³ãƒ¡ãƒ³ãƒˆ

### è‹±èªã§è¨˜è¿°

- ãƒ–ãƒ©ãƒ³ãƒå: `feature/user-authentication`
- å¤‰æ•°åãƒ»é–¢æ•°å: `getUserById`
- ãƒ•ã‚¡ã‚¤ãƒ«å: `BookingForm.tsx`

è©³ç´°ã¯ `.cursor/rules/æ—¥æœ¬èªé‹ç”¨ãƒ«ãƒ¼ãƒ«.md` ã‚’å‚ç…§ã€‚

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### æœ€å„ªå…ˆã§èª­ã‚€ã¹ã

- **`CLAUDE.md`** - ãƒã‚¹ã‚¿ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **`worktree/QUICK_REFERENCE.md`** - ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- **`.cursor/rules/æ—¥æœ¬èªé‹ç”¨ãƒ«ãƒ¼ãƒ«.md`** - è¨€èªãƒ«ãƒ¼ãƒ«

### è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `documents/ä¸¦è¡Œä½œæ¥­ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³.md` - Worktreeé‹ç”¨
- `documents/ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ.md` - å“è³ªåŸºæº–
- `documents/Gité‹ç”¨ãƒ«ãƒ¼ãƒ«.md` - Gitè©³ç´°ãƒ«ãƒ¼ãƒ«
- `worktree/SNIPPETS.md` - ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆé›†

---

## ğŸ”„ ãƒ‡ã‚¤ãƒªãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ¯æœï¼ˆä½œæ¥­é–‹å§‹å‰ï¼‰

```bash
# ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒªã‚’æœ€æ–°åŒ–
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system
git checkout main
git pull origin main

# è‡ªåˆ†ã®worktreeã§rebase
cd /Users/a-aoki/indivisual/2026/portpfolio/reserve-system-XXX
git rebase main
```

### ä½œæ¥­ä¸­

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
cd reserve-app
npm run dev
```

### ä½œæ¥­çµ‚äº†å‰

```bash
# å“è³ªãƒã‚§ãƒƒã‚¯
npm run lint && npm run build:ci && npm test && npm run test:e2e

# ã‚³ãƒŸãƒƒãƒˆï¼ˆæ—¥æœ¬èªã§ï¼‰
git add .
git commit -m "feat: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ©Ÿèƒ½ã‚’å®Ÿè£…"
git push origin feature/XXX
```

---

## ğŸ“ GitHub Issues

å…¨æ©Ÿèƒ½ã¯GitHub Issueã§ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚

- Sprint 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ#1-7ï¼‰
- Sprint 2: äºˆç´„æ©Ÿèƒ½ï¼ˆ#8-14ï¼‰
- Sprint 3: ç®¡ç†æ©Ÿèƒ½ï¼ˆ#15-22ï¼‰
- Sprint 4: æ‹¡å¼µæ©Ÿèƒ½ï¼ˆ#23-30ï¼‰

è©³ç´°ã¯ `documents/GitHub-Issuesä¸€è¦§.md` ã‚’å‚ç…§ã€‚

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Vercel

- **æœ¬ç•ª**: https://reserve-system.vercel.app (main)
- **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: å„PRã”ã¨ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### ç’°å¢ƒå¤‰æ•°

`.env.example` ã‚’å‚è€ƒã« `.env.local` ã‚’ä½œæˆã€‚

```bash
cp reserve-app/.env.example reserve-app/.env.local
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

### ç–‘å•ãŒç”Ÿã˜ãŸã‚‰

1. **`CLAUDE.md`** ã‚’ç¢ºèª
2. **è©²å½“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** ã‚’å‚ç…§
3. **GitHub Issue** ã§è³ªå•

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç›®çš„ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚

---

**æœ€çµ‚æ›´æ–°**: 2025-12-31
