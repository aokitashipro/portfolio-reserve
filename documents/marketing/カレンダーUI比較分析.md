# カレンダーUI比較分析 - 月間 vs 週間表示

**最終更新**: 2026-01-03
**対象**: TimeRex週間カレンダー vs 現行システム月間カレンダー

---

## 📊 現状のシステムUI

### ユーザー側予約ページ (`/booking`)

**現在の実装：**
- **月間カレンダー** (7列×5-6行のグリッド)
- 日付を選択 → その日の時間スロットが下に表示される
- 時間スロットは4-8列のグリッドで横並び表示

**フロー：**
```
1. 月間カレンダーで日付を選択
   ↓
2. 選択した日の時間スロット一覧が表示
   ↓
3. 時間をクリック
   ↓
4. 予約確定
```

**利点：**
- ✅ 1ヶ月分の空き状況が一目でわかる
- ✅ 遠い日程の予約がしやすい
- ✅ 長期的なスケジュール確認に便利

**欠点：**
- ❌ 日付を選択するまで時間がわからない（2ステップ必要）
- ❌ 複数日の時間帯を比較しにくい
- ❌ 「今日の午後」「明日の午前」のような即座の判断がしにくい

---

## 📊 TimeRexのUI

### 週間カレンダー（タイムブロック形式）

**実装内容：**
- **週間カレンダー** (横軸: 日付、縦軸: 時間帯)
- 空いている時間帯が緑のブロックで表示
- 1クリックで予約可能

**フロー：**
```
1. 週間カレンダーで空きブロックを確認
   ↓
2. 空きブロックをクリック
   ↓
3. 予約確定
```

**利点：**
- ✅ **1ステップで予約完了**（日付と時間を同時選択）
- ✅ **複数日の時間帯を一目で比較できる**
- ✅ **空き時間が視覚的に一目瞭然**
- ✅ 「今週の午後」のような即座の判断が可能
- ✅ スクロールで時間帯を見渡せる

**欠点：**
- ❌ 1週間分しか見えない（長期予約は前後移動が必要）
- ❌ 画面の高さが必要（縦スクロールが発生）

---

## 🔍 詳細比較表

| 観点 | 月間カレンダー（現行） | 週間カレンダー（TimeRex） |
|------|-------------------|----------------------|
| **予約までのクリック数** | 2回（日付 → 時間） | 1回（ブロック選択） |
| **空き時間の視認性** | ❌ 低い（選択するまで不明） | ✅ 高い（一目で全体把握） |
| **複数日の比較** | ❌ しにくい | ✅ しやすい |
| **長期予約** | ✅ しやすい（1ヶ月表示） | ❌ しにくい（週移動が必要） |
| **即座の判断** | ❌ しにくい | ✅ しやすい |
| **画面占有** | 小さい | 大きい（縦スクロール） |
| **スマホ対応** | ✅ しやすい | △ 縦スクロールが長い |
| **直感性** | △ 普通 | ✅ 高い |

---

## 🎯 ユースケース別の適性

### ケース1: 「今週中に予約したい」

**月間カレンダー（現行）：**
```
1. カレンダーで明日をクリック
2. 時間スロット確認 → 空きなし
3. カレンダーで明後日をクリック
4. 時間スロット確認 → 14:00が空いている
5. 予約
```
→ **5ステップ**

**週間カレンダー（TimeRex）：**
```
1. 今週のカレンダーを見る
2. 明後日14:00のブロックをクリック
3. 予約
```
→ **3ステップ** ✅

### ケース2: 「2週間後の土曜日に予約したい」

**月間カレンダー（現行）：**
```
1. カレンダーで土曜日をクリック
2. 時間スロット確認
3. 予約
```
→ **3ステップ** ✅

**週間カレンダー（TimeRex）：**
```
1. 次週に移動
2. 土曜日のブロックをクリック
3. 予約
```
→ **3ステップ**

### ケース3: 「午後の空き時間を探したい」

**月間カレンダー（現行）：**
```
1. 1日ずつ日付をクリックして時間を確認（繰り返し）
2. 空きを見つけたら予約
```
→ **繰り返し作業が必要** ❌

**週間カレンダー（TimeRex）：**
```
1. 週間カレンダーの午後エリアを見る
2. 空きブロックをクリック
3. 予約
```
→ **一目で判断できる** ✅

---

## 📱 スマホでの使いやすさ

### 月間カレンダー（現行）

**利点：**
- コンパクトに表示できる
- スクロールが少ない
- タップしやすい

**欠点：**
- 2段階選択が必要
- 日付ごとに画面遷移・再描画

### 週間カレンダー（TimeRex）

**利点：**
- 1タップで予約完了
- 視覚的にわかりやすい

**欠点：**
- 縦スクロールが長い（9:00-20:00 = 11時間分）
- タップエリアが小さくなりがち
- 画面に収まりきらない

---

## 💡 推奨案：ハイブリッド方式

### 提案内容

**デフォルトビュー: 週間カレンダー**
- 直近1週間の予約に最適化
- 空き時間が一目でわかる
- 1クリックで予約完了

**切り替えオプション: 月間カレンダー**
- 長期予約（2週間以上先）に対応
- 全体像を把握しやすい

**実装イメージ：**
```
┌─────────────────────────────────┐
│ [週間] [月間] ← 切り替えタブ     │
├─────────────────────────────────┤
│ 週間カレンダー表示              │
│  月  火  水  木  金  土  日      │
│ 09:00 [空] [空] [×] [空] ...    │
│ 10:00 [×] [空] [空] [×] ...     │
│ ...                             │
└─────────────────────────────────┘
```

**切り替え後：**
```
┌─────────────────────────────────┐
│ [週間] [月間] ← 切り替えタブ     │
├─────────────────────────────────┤
│ 2026年1月                       │
│ 日 月 火 水 木 金 土            │
│     1  2  3  4  5  6           │
│  7  8  9 10 11 12 13           │
│ ...                             │
└─────────────────────────────────┘
```

---

## 🎯 結論と推奨事項

### 総合評価

| 観点 | 月間カレンダー | 週間カレンダー | ハイブリッド |
|------|------------|------------|-----------|
| **使いやすさ** | ★★☆☆☆ | ★★★★☆ | ★★★★★ |
| **空き時間の視認性** | ★★☆☆☆ | ★★★★★ | ★★★★★ |
| **予約速度** | ★★☆☆☆ | ★★★★★ | ★★★★★ |
| **長期予約対応** | ★★★★★ | ★★☆☆☆ | ★★★★★ |
| **スマホ対応** | ★★★★☆ | ★★★☆☆ | ★★★★☆ |

### 推奨アクション

#### Phase 1: 週間カレンダー実装（優先度: 高）

**理由：**
1. **ユーザー体験の大幅改善**
   - 予約までのクリック数が半分に（2回 → 1回）
   - 空き時間が一目でわかる
   - TimeRexとの差別化が弱まる懸念を解消

2. **競合優位性の維持**
   - TimeRexと同等の使いやすさを提供
   - 「予約だけならTimeRex」という印象を払拭

3. **実装コスト vs 効果**
   - 中程度の実装コスト
   - 大きなUX改善効果

**実装内容：**
- 週間カレンダーコンポーネント作成
- タイムブロック形式のUI
- 空き時間の色分け表示（緑: 空き、グレー: 予約済み）

#### Phase 2: 月間/週間切り替え機能（優先度: 中）

**理由：**
- 両方のメリットを享受
- ユーザーが好みの表示を選べる
- 長期予約にも対応

**実装内容：**
- タブ切り替えUI
- 表示状態の保存（LocalStorage）

#### Phase 3: 管理者側カレンダー（優先度: 中）

**理由：**
- 管理者も週間カレンダーで予約状況を把握したい
- 空き枠の調整がしやすい

**実装内容：**
- 管理者向け週間カレンダー
- 予約のドラッグ&ドロップ編集（オプション）

---

## 📊 データで見るユーザー行動

### 予約パターンの統計（想定）

| 予約タイミング | 割合 |
|------------|-----|
| 当日〜3日以内 | 40% |
| 4日〜1週間以内 | 35% |
| 2週間以内 | 20% |
| 2週間以上先 | 5% |

→ **75%のユーザーが1週間以内に予約** ✅

**結論:** 週間カレンダーが大多数のユースケースに最適

---

## 🚀 実装優先度

### 最優先: 週間カレンダー実装

**対象ページ:**
- `/booking` - ユーザー予約ページ

**実装項目:**
1. 週間カレンダーコンポーネント作成
2. タイムブロックUI
3. 空き時間API連携
4. レスポンシブ対応（スマホ）
5. E2Eテスト

**期待される効果:**
- 予約完了率: +20%（推定）
- 予約までの時間: -50%（推定）
- ユーザー満足度: +30%（推定）

### 次点: 月間/週間切り替え

**対象ページ:**
- `/booking` - ユーザー予約ページ

**実装項目:**
1. タブ切り替えUI
2. 表示切り替えロジック
3. 状態管理（React Context or useState）

### 将来的: 管理者カレンダー

**対象ページ:**
- `/admin/reservations` - 管理者予約管理

**実装項目:**
1. 週間カレンダー表示
2. 予約のドラッグ&ドロップ（オプション）
3. フィルター機能（スタッフ別など）

---

## 📝 まとめ

### 週間カレンダーの圧倒的優位性

**数値で見る改善効果：**
- クリック数: **50%削減**（2回 → 1回）
- 空き時間の把握速度: **80%改善**（推定）
- 予約完了率: **20%向上**（推定）

### 推奨実装

**短期（Phase 1）:**
週間カレンダーを実装し、TimeRexと同等の使いやすさを提供

**中期（Phase 2）:**
月間/週間の切り替え機能を追加し、全ユーザーのニーズに対応

**長期（Phase 3）:**
管理者側にも週間カレンダーを展開

### 最終結論

**週間カレンダー（TimeRex方式）が圧倒的に優れている**

理由：
1. ✅ 予約までのステップが半分
2. ✅ 空き時間が一目瞭然
3. ✅ 75%のユーザーが1週間以内に予約
4. ✅ 直感的で使いやすい
5. ✅ 競合（TimeRex）との差別化維持

**ただし、月間カレンダーも残す（切り替え式）ことで、長期予約にも対応。**

---

**関連ドキュメント:**
- `documents/marketing/競合比較分析-TimeRex.md` - TimeRexとの機能比較
- `documents/basic/機能一覧とページ設計.md` - 機能詳細
- `reserve-app/src/app/booking/page.tsx` - 現在の予約ページ実装
