# 管理者側 予約確認UI分析

**最終更新**: 2026-01-03
**対象**: 店舗管理者向けの予約確認・管理機能

---

## 📊 現在の実装状況

### 1. ダッシュボード (`/admin/dashboard`)

**表示内容:**

#### 統計カード（4つ）
- 本日の予約件数
- 今月の予約件数
- 今月の売上
- リピート率

各カードには前週比の増減が表示される。

#### 本日の予約一覧
- **表示形式**: リスト形式（縦並び）
- **表示項目**:
  - 時間（09:00など）
  - 顧客名
  - メニュー
  - スタッフ
  - ステータス（確定/保留/キャンセル）
- **ソート**: 時間順

**例:**
```
┌────────────────────────────────────────┐
│ 本日の予約                              │
├────────────────────────────────────────┤
│ 09:00  山田 太郎                       │
│        カット / 田中                   │
│        [確定]                          │
├────────────────────────────────────────┤
│ 10:00  佐藤 花子                       │
│        カラー / 佐藤                   │
│        [確定]                          │
└────────────────────────────────────────┘
```

#### 週間予約状況
- **表示形式**: 棒グラフ
- **横軸**: 曜日（月〜日）
- **縦軸**: 予約件数
- **高さ**: 件数に応じて可変

**例:**
```
     │
  12 │     █
  10 │     █
   8 │ █   █   █
   6 │ █ █ █ █ █
   4 │ █ █ █ █ █ █
   2 │ █ █ █ █ █ █ █
   0 └─┴─┴─┴─┴─┴─┴─
      月 火 水 木 金 土 日
```

#### その他のセクション
- スタッフ出勤状況（勤務中/休憩中）
- 最近の活動（新規予約、予約変更など）
- クイックアクション（新規予約追加、顧客追加）

---

### 2. 予約管理ページ (`/admin/reservations`)

**表示形式**: テーブル（表形式）

**表示項目:**
- 予約日時（日付 + 時間）
- 顧客名
- メニュー
- スタッフ
- ステータス
- 操作（編集・削除ボタン）

**フィルター機能:**
- ステータスフィルター（すべて/確定/保留/キャンセル）
- 日付範囲フィルター（すべて/今週/今月）
- 顧客名検索（テキスト入力）

**操作:**
- 予約の手動追加
- 予約の編集
- 予約の削除

**例:**
```
┌────────────┬──────────┬────────┬────────┬──────┬──────┐
│ 予約日時   │ 顧客名   │ メニュー │ スタッフ │ ステータス │ 操作 │
├────────────┼──────────┼────────┼────────┼──────┼──────┤
│ 2026-01-15 │ 山田太郎 │ カット │ 田中   │ 確定 │ 編集 │
│ 09:00      │          │        │        │      │ 削除 │
├────────────┼──────────┼────────┼────────┼──────┼──────┤
│ 2026-01-15 │ 佐藤花子 │ カラー │ 佐藤   │ 確定 │ 編集 │
│ 10:00      │          │        │        │      │ 削除 │
└────────────┴──────────┴────────┴────────┴──────┴──────┘
```

---

## 🔍 現状の問題点

### 1. カレンダー表示がない

**問題:**
- 週間や月間のカレンダー表示がない
- 空き時間が一目でわからない
- 複数日の予約状況を比較できない

**影響:**
- 「明日の午後は空いてる？」→ テーブルをスクロールして探す必要がある
- 「今週の金曜日は埋まってる？」→ フィルターで絞り込む必要がある
- 視覚的な把握が難しい

### 2. 本日の予約のみリスト表示

**問題:**
- ダッシュボードでは本日の予約しか見えない
- 明日以降の予約を確認するには `/admin/reservations` に移動が必要

**影響:**
- 明日の準備がしにくい
- 週全体の把握が困難

### 3. 時間帯別の空き状況が不明

**問題:**
- どの時間帯が空いているか、埋まっているかが一目でわからない
- テーブルで確認するには全行をチェックする必要がある

**影響:**
- 電話予約の受付時に時間がかかる
- 空き枠の調整が難しい

---

## 💡 改善提案

### 提案1: 週間カレンダー表示の追加（最優先）

**実装内容:**
- `/admin/reservations` に週間カレンダー表示を追加
- TimeRex方式のタイムブロック形式

**UI イメージ:**
```
┌─────────────────────────────────────────────────────────┐
│ 予約管理 - カレンダー表示                [一覧] [カレンダー] │
├─────────────────────────────────────────────────────────┤
│ 2026年1月          [< 前週] [次週 >]                      │
├─────┬──────┬──────┬──────┬──────┬──────┬──────┬──────┤
│     │ 月 6 │ 火 7 │ 水 8 │ 木 9 │ 金10 │ 土11 │ 日12 │
├─────┼──────┼──────┼──────┼──────┼──────┼──────┼──────┤
│09:00│ [山田]│ [空] │ [佐藤]│ [空] │ [空] │ [田中]│ [休] │
│10:00│ [空] │ [鈴木]│ [空] │ [山本]│ [空] │ [空] │ [休] │
│11:00│ [田中]│ [空] │ [空] │ [空] │ [高橋]│ [空] │ [休] │
│12:00│ --- 休憩時間 ---                                   │
│13:00│ [空] │ [空] │ [伊藤]│ [空] │ [空] │ [空] │ [休] │
│14:00│ [佐藤]│ [空] │ [空] │ [空] │ [空] │ [中村]│ [休] │
│15:00│ [空] │ [空] │ [空] │ [空] │ [小林]│ [空] │ [休] │
│16:00│ [空] │ [加藤]│ [空] │ [空] │ [空] │ [空] │ [休] │
└─────┴──────┴──────┴──────┴──────┴──────┴──────┴──────┘

[顧客名] = 予約済み（顧客名を表示、色分け可能）
[空] = 空き時間（緑色）
[休] = 定休日・営業時間外（グレー）
```

**機能:**
- クリックで予約詳細表示・編集
- 空き時間をクリックで新規予約追加
- スタッフ別フィルター
- メニュー別フィルター
- ドラッグ&ドロップで予約時間変更（オプション）

**メリット:**
- ✅ 空き時間が一目でわかる
- ✅ 複数日の予約状況を比較できる
- ✅ 電話予約の受付がスムーズ
- ✅ 空き枠の調整が容易

### 提案2: ダッシュボードに今週の予約プレビュー

**実装内容:**
- ダッシュボードに「今週の予約」セクションを追加
- 簡易的な週間カレンダー or リスト表示

**UI イメージ（リスト形式）:**
```
┌────────────────────────────────────────┐
│ 今週の予約                              │
├────────────────────────────────────────┤
│ 月 6日（今日） - 3件                    │
│ 火 7日 - 5件                           │
│ 水 8日 - 4件                           │
│ 木 9日 - 2件                           │
│ 金 10日 - 6件                          │
│ 土 11日 - 8件                          │
│ 日 12日 - 定休日                       │
└────────────────────────────────────────┘
```

**メリット:**
- ✅ 明日以降の予約状況を把握できる
- ✅ 週全体の忙しさが一目でわかる
- ✅ スタッフのシフト調整がしやすい

### 提案3: スタッフ別カレンダー表示（将来）

**実装内容:**
- スタッフごとの予約状況を表示
- 複数スタッフの予約状況を並列表示

**UI イメージ:**
```
┌─────────────────────────────────────────────────────────┐
│ スタッフ別予約状況 - 2026年1月15日（水）                   │
├──────┬──────┬──────┬──────┬──────┬──────┬──────┬──────┤
│      │ 田中 │ 佐藤 │ 鈴木 │ 山本 │ 高橋 │ 伊藤 │      │
├──────┼──────┼──────┼──────┼──────┼──────┼──────┼──────┤
│09:00 │ [山田]│ [空] │ [佐藤]│ [空] │ [空] │ [田中]│      │
│10:00 │ [空] │ [鈴木]│ [空] │ [山本]│ [空] │ [空] │      │
│11:00 │ [田中]│ [空] │ [空] │ [空] │ [高橋]│ [空] │      │
│12:00 │ --- 休憩時間 ---                                   │
│13:00 │ [空] │ [空] │ [伊藤]│ [空] │ [空] │ [空] │      │
│14:00 │ [佐藤]│ [空] │ [空] │ [空] │ [空] │ [中村]│      │
└──────┴──────┴──────┴──────┴──────┴──────┴──────┴──────┘
```

**メリット:**
- ✅ スタッフごとの稼働率を把握
- ✅ 負荷の偏りを発見
- ✅ シフト調整の判断材料

---

## 🎯 優先度と実装順序

### Phase 1: 週間カレンダー表示（最優先）

**対象ページ:**
- `/admin/reservations` - 予約管理ページ

**実装内容:**
1. 週間カレンダーコンポーネント
2. タイムブロック表示
3. 空き時間の色分け
4. クリックで予約詳細表示
5. 一覧表示との切り替え機能

**期待効果:**
- 予約状況の把握時間: -70%（推定）
- 電話予約の受付時間: -50%（推定）
- 管理者満足度: +40%（推定）

### Phase 2: ダッシュボード改善（推奨）

**対象ページ:**
- `/admin/dashboard` - ダッシュボード

**実装内容:**
1. 今週の予約プレビュー
2. 日別の予約件数表示
3. クリックで該当日の詳細へ遷移

### Phase 3: スタッフ別カレンダー（将来）

**対象ページ:**
- `/admin/staff-schedule` - スタッフスケジュール（新規）

**実装内容:**
1. スタッフ別の予約状況表示
2. 稼働率の可視化
3. シフト調整機能

---

## 📊 TimeRexとの比較（管理者側）

| 機能 | TimeRex | このシステム（現状） | このシステム（改善後） |
|------|---------|-------------------|---------------------|
| **週間カレンダー** | ✅ あり | ❌ なし | ✅ あり（予定） |
| **空き時間の視認性** | ✅ 高い | ❌ 低い | ✅ 高い（予定） |
| **予約一覧** | △ 簡易 | ✅ 充実 | ✅ 充実 |
| **スタッフ別表示** | ❌ なし | △ フィルターのみ | ✅ あり（予定） |
| **顧客管理** | ❌ なし | ✅ あり | ✅ あり |
| **統計分析** | ❌ なし | ✅ あり | ✅ あり |

---

## 🎨 推奨UI設計

### 予約管理ページの構成

```
┌─────────────────────────────────────────────────────────┐
│ 予約管理                                                  │
│                                                          │
│ [一覧表示] [カレンダー表示] ← タブ切り替え                 │
├─────────────────────────────────────────────────────────┤
│ フィルター:                                              │
│ [スタッフ選択▼] [メニュー選択▼] [ステータス選択▼]         │
├─────────────────────────────────────────────────────────┤
│ 週間カレンダー表示                                        │
│ （タイムブロック形式）                                    │
└─────────────────────────────────────────────────────────┘
```

### カラースキーム（管理者側）

- **空き時間**: `bg-green-100 text-green-800`
- **予約済み**: `bg-blue-100 text-blue-800`（顧客名表示）
- **確定済み**: `bg-purple-100 text-purple-800`
- **保留中**: `bg-yellow-100 text-yellow-800`
- **キャンセル**: `bg-red-100 text-red-800`
- **休憩時間**: `bg-gray-50 text-gray-400`
- **定休日**: `bg-gray-100 text-gray-300`

---

## 🚀 実装優先度まとめ

### 最優先: 週間カレンダー表示

**理由:**
1. 現状の最大の弱点
2. 電話予約受付の効率化に直結
3. TimeRexとの差別化維持
4. 管理者のストレス軽減

**期待効果:**
- 予約状況の把握時間: **70%削減**
- 電話予約の受付時間: **50%削減**
- 管理者満足度: **40%向上**

### 次点: ダッシュボード改善

**理由:**
- 明日以降の予約状況を把握しやすく
- スタッフのシフト調整がしやすく

### 将来的: スタッフ別カレンダー

**理由:**
- より高度な運用管理
- 稼働率の最適化

---

## 📝 まとめ

### 現状の管理者側予約確認方法

**ダッシュボード:**
- ✅ 本日の予約（リスト形式）
- ✅ 週間予約状況（棒グラフ）
- ✅ 統計カード

**予約管理ページ:**
- ✅ テーブル形式の予約一覧
- ✅ フィルター・検索機能
- ✅ 予約の編集・削除

**不足している機能:**
- ❌ カレンダー表示
- ❌ 空き時間の視認性
- ❌ 複数日の比較

### 推奨改善

**Phase 1（最優先）:**
週間カレンダー表示を `/admin/reservations` に追加

**Phase 2（推奨）:**
ダッシュボードに今週の予約プレビューを追加

**Phase 3（将来）:**
スタッフ別カレンダー表示を新規ページに追加

---

**関連ドキュメント:**
- `documents/marketing/カレンダーUI比較分析.md` - ユーザー側カレンダー比較
- `documents/marketing/競合比較分析-TimeRex.md` - TimeRex全体比較
- `reserve-app/src/app/admin/dashboard/page.tsx` - ダッシュボード実装
- `reserve-app/src/app/admin/reservations/page.tsx` - 予約管理実装
